<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <title>Resources - Bahujan Samaj Party</title>
    <!-- Font Awesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Link to main styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Additional Styles for Resources Page -->
    <style>
        /* ===== RESOURCES PAGE SPECIFIC STYLES ===== */
        
        /* Main Content Container */
        .resources-container {
            min-height: 100vh;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 6rem 2rem 2rem;
        }

        /* Page Header */
        .resources-header {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInUp 1s ease-out;
        }

        .resources-header h1 {
            color: #22419A;
            font-size: clamp(1.5rem, 3vw, 2rem);
            margin-bottom: 0.8rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .resources-header p {
            font-size: clamp(0.8rem, 1.5vw, 0.9rem);
            color: #666;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.5;
        }

        /* Resources Grid */
        .resources-grid {
            max-width: 600px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Resource Category Cards */
        .resource-category {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(34, 65, 154, 0.1);
            position: relative;
            overflow: hidden;
        }

        .resource-category::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(135deg, #22419A, #4a90e2);
        }

        .resource-category:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 30px rgba(34, 65, 154, 0.15);
        }

        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .category-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #22419A, #4a90e2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            margin-right: 0.8rem;
        }

        .category-title {
            color: #22419A;
            font-size: 1.1rem;
            font-weight: bold;
            margin: 0;
        }

        .category-description {
            color: #666;
            margin-bottom: 1rem;
            line-height: 1.5;
            font-size: 0.85rem;
        }

        /* Resource Links */
        .resource-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .resource-link {
            margin-bottom: 0.6rem;
        }

        .resource-link a {
            display: flex;
            align-items: center;
            padding: 0.6rem 0.8rem;
            background: rgba(34, 65, 154, 0.05);
            border-radius: 6px;
            text-decoration: none;
            color: #22419A;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 1px solid transparent;
            font-size: 0.85rem;
        }

        .resource-link a:hover {
            background: rgba(34, 65, 154, 0.1);
            transform: translateX(3px);
            border-color: rgba(34, 65, 154, 0.2);
        }

        .resource-link i {
            margin-right: 0.6rem;
            width: 16px;
            text-align: center;
            opacity: 0.7;
            font-size: 0.9rem;
        }

        /* Contact Section */
        .resources-contact {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            max-width: 500px;
            margin: 2rem auto 0;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            border: 1px solid rgba(34, 65, 154, 0.1);
        }

        .resources-contact h3 {
            color: #22419A;
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }

        .resources-contact p {
            color: #666;
            margin-bottom: 1rem;
            line-height: 1.5;
            font-size: 0.85rem;
        }

        .contact-email {
            display: inline-flex;
            align-items: center;
            background: linear-gradient(135deg, #22419A, #4a90e2);
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 20px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 3px 12px rgba(34, 65, 154, 0.3);
            font-size: 0.85rem;
        }

        .contact-email:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(34, 65, 154, 0.4);
            text-decoration: none;
            color: white;
        }

        .contact-email i {
            margin-right: 0.6rem;
            font-size: 0.9rem;
        }

        /* Back Button */
        .back-to-home {
            position: fixed;
            top: 5rem;
            left: 1.5rem;
            background: #22419A;
            color: white;
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: 20px;
            font-family: 'Times New Roman', serif;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-weight: bold;
            box-shadow: 0 3px 12px rgba(34, 65, 154, 0.3);
            z-index: 100;
        }

        .back-to-home:hover {
            background: #1a3278;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(34, 65, 154, 0.4);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .resources-container {
                padding: 3rem 1rem 1.5rem;
            }

            .resources-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
                max-width: 100%;
            }

            .resource-category {
                padding: 1.2rem;
            }

            .back-to-home {
                top: 3.5rem;
                left: 1rem;
                padding: 0.5rem 0.8rem;
                font-size: 0.75rem;
            }

            .category-header {
                flex-direction: column;
                text-align: center;
                gap: 0.8rem;
            }

            .category-icon {
                margin-right: 0;
            }
        }

        @media (max-width: 480px) {
            .resources-grid {
                grid-template-columns: 1fr;
                margin: 0;
            }

            .resource-category {
                margin: 0;
                padding: 1rem;
            }

            .back-to-home {
                position: relative;
                top: 0;
                left: 0;
                margin-bottom: 1.5rem;
                width: 100%;
                justify-content: center;
            }

            .resources-header h1 {
                font-size: 1.3rem;
            }

            .resources-header p {
                font-size: 0.75rem;
            }
        }

        /* Animation Classes */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Loading State */
        .loading-resource {
            opacity: 0.5;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar (Same as main site) -->
    <nav class="navbar">
        <div class="nav-container">
            <!-- Logo Section -->
            <a href="index.html" class="logo">
                <img src="assets/logo.jpg" alt="BSP Logo" class="twirl-logo">
                <span id="logo-text">BAHUJAN SAMAJ PARTY</span>
            </a>
            
            <!-- Navigation Menu -->
            <ul class="nav-menu">
                <li><a href="index.html#hero" id="nav-home">Home</a></li>
                <li><a href="index.html#timeline" id="nav-timeline">Timeline</a></li>
                <li><a href="index.html#events" id="nav-events">Events</a></li>
                <li><a href="index.html#updates" id="nav-updates">Updates</a></li>
                <li><a href="index.html#gallery" id="nav-gallery">Gallery</a></li>
                <li><a href="resources.html" class="active" id="nav-resources">Resources</a></li>
                <li><a href="index.html#contact" id="nav-contact">Contact</a></li>
                <li><a href="index.html#faq" id="nav-faq">FAQ</a></li>

                <!-- Language Switcher -->
                <li class="language-switcher">
                    <div class="language-buttons">
                        <button class="lang-btn active" onclick="switchLanguage('english')" id="btn-english">EN</button>
                        <button class="lang-btn" onclick="switchLanguage('hindi')" id="btn-hindi">हिंदी</button>
                        <button class="lang-btn" onclick="switchLanguage('tamil')" id="btn-tamil">தமிழ்</button>
                    </div>
                </li>
            </ul>
            
            <!-- Mobile Hamburger Menu -->
            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="resources-container">
        <!-- Back to Home Button -->
        <button class="back-to-home" onclick="goToHome()">
            <i class="fas fa-arrow-left"></i>
            <span id="back-to-home-text">Back to Home</span>
        </button>

        <!-- Page Header -->
        <header class="resources-header">
            <h1 id="resources-title">Resources & Downloads</h1>
            <p id="resources-description">
                Access important documents and educational materials to support understanding of BSP's vision and activities.
            </p>
        </header>

        <!-- Resources Grid -->
        <div class="resources-grid">
            <!-- Books Category -->
            <div class="resource-category fade-in">
                <div class="category-header">
                    <div class="category-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3 class="category-title" id="category-books-title">Books</h3>
                </div>
                <p class="category-description" id="category-books-desc">
                    Essential reading materials and publications by BSP leaders and about social justice.
                </p>
                <ul class="resource-links">
                    <li class="resource-link">
                        <a href="#" onclick="downloadResource('books')" data-resource="books">
                            <i class="fas fa-download"></i>
                            <span id="resource-books">Download Books Collection</span>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Ideology Category -->
            <div class="resource-category fade-in">
                <div class="category-header">
                    <div class="category-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3 class="category-title" id="category-ideology-title">Ideology</h3>
                </div>
                <p class="category-description" id="category-ideology-desc">
                    Core principles, philosophy, and ideological framework of the Bahujan Samaj Party.
                </p>
                <ul class="resource-links">
                    <li class="resource-link">
                        <a href="https://drive.google.com/uc?export=download&id=1jijsMROG0tLPiO43SiO8zBDlurGylASZ" onclick="downloadResource('ideology')" data-resource="ideology">
                            <i class="fas fa-download"></i>
                            <span id="resource-ideology">Download Ideology Guide</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Contact Section -->
        <div class="resources-contact">
            <h3 id="contact-resources-title">Need More Information?</h3>
            <p id="contact-resources-desc">
                For additional resources, document requests, or technical support, 
                please don't hesitate to contact our documentation team.
            </p>
            <a href="mailto:resources@bspindia.org" class="contact-email" onclick="trackEmail()">
                <i class="fas fa-envelope"></i>
                <span id="contact-email-text">resources@bspindia.org</span>
            </a>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        /*
         * =====================================================
         * BSP RESOURCES PAGE - JAVASCRIPT FUNCTIONALITY
         * =====================================================
         * Enhanced language integration and interactive features
         */

        // ===== GLOBAL VARIABLES =====
        let currentLanguage = 'english';
        
        // ===== LANGUAGE CONTENT DEFINITIONS =====
        const resourceTranslations = {
            english: {
                // Navigation
                'logo-text': 'BAHUJAN SAMAJ PARTY',
                'nav-home': 'Home',
                'nav-timeline': 'Timeline',
                'nav-events': 'Events',
                'nav-updates': 'Updates',
                'nav-gallery': 'Gallery',
                'nav-resources': 'Resources',
                'nav-contact': 'Contact',
                'nav-faq': 'FAQ',
                
                // Page Content
                'back-to-home-text': 'Back to Home',
                'resources-title': 'Resources & Downloads',
                'resources-description': 'Access important documents and educational materials to support understanding of BSP\'s vision and activities.',
                
                // Books Category
                'category-books-title': 'Books',
                'category-books-desc': 'Essential reading materials and publications by BSP leaders and about social justice.',
                'resource-books': 'Download Books Collection',
                
                // Ideology Category
                'category-ideology-title': 'Ideology',
                'category-ideology-desc': 'Core principles, philosophy, and ideological framework of the Bahujan Samaj Party.',
                'resource-ideology': 'Download Ideology Guide',
                
                // Contact
                'contact-resources-title': 'Need More Information?',
                'contact-resources-desc': 'For additional resources, document requests, or technical support, please contact our documentation team.',
                'contact-email-text': 'resources@bspindia.org'
            },
            
            hindi: {
                // Navigation
                'logo-text': 'बहुजन समाज पार्टी',
                'nav-home': 'मुख्य पृष्ठ',
                'nav-timeline': 'समयरेखा',
                'nav-events': 'कार्यक्रम',
                'nav-updates': 'नवीनतम समाचार',
                'nav-gallery': 'गैलरी',
                'nav-contact': 'संपर्क',
                'nav-faq': 'सामान्य प्रश्न',
                'nav-resources': 'संसाधन',
                
                // Page Content
                'back-to-home-text': 'मुख्य पृष्ठ पर वापस जाएं',
                'resources-title': 'संसाधन और डाउनलोड',
                'resources-description': 'बीएसपी के दृष्टिकोण और गतिविधियों को समझने में सहायता के लिए महत्वपूर्ण दस्तावेज़ और शैक्षिक सामग्री तक पहुँच।',
                
                // Books Category
                'category-books-title': 'पुस्तकें',
                'category-books-desc': 'बीएसपी नेताओं द्वारा और सामाजिक न्याय के बारे में आवश्यक पठन सामग्री और प्रकाशन।',
                'resource-books': 'पुस्तक संग्रह डाउनलोड करें',
                
                // Ideology Category
                'category-ideology-title': 'विचारधारा',
                'category-ideology-desc': 'बहुजन समाज पार्टी के मूल सिद्धांत, दर्शन और वैचारिक ढांचा।',
                'resource-ideology': 'विचारधारा गाइड डाउनलोड करें',
                
                // Contact
                'contact-resources-title': 'अधिक जानकारी चाहिए?',
                'contact-resources-desc': 'अतिरिक्त संसाधन, दस्तावेज़ अनुरोध या तकनीकी सहायता के लिए, कृपया हमारी प्रलेखन टीम से संपर्क करें।',
                'contact-email-text': 'resources@bspindia.org'
            },
            
            tamil: {
                // Navigation
                'logo-text': 'பகுஜன் சமாஜ் கட்சி',
                'nav-home': 'முகப்பு',
                'nav-timeline': 'நேரக்கோடு',
                'nav-events': 'நிகழ்வுகள்',
                'nav-updates': 'புதுப்பிப்புகள்',
                'nav-gallery': 'கேலரி',
                'nav-contact': 'தொடர்பு',
                'nav-faq': 'கேள்விகள்',
                'nav-resources': 'வளங்கள்',
                
                // Page Content
                'back-to-home-text': 'முகப்புக்கு திரும்பு',
                'resources-title': 'வளங்கள் மற்றும் பதிவிறக்கங்கள்',
                'resources-description': 'முக்கியமான ஆவணங்கள், அறிக்கை, வழிகாட்டுதல்கள் மற்றும் கல்வி பொருட்களை அணுகவும். அனைத்து வளங்களும் பதிவிறக்கத்திற்கு கிடைக்கின்றன, இவை கட்சி உறுப்பினர்கள் மற்றும் பொது மக்கள் பிஎஸ்பியின் பார்வை மற்றும் செயல்பாடுகளை புரிந்துகொள்ள உதவுகின்றன।',
                'success-text': 'வளம் வெற்றிகரமாக அணுகப்பட்டது!',
                
                // Category 1: Official Documents
                'category-official-title': 'அதிகாரப்பூர்வ ஆவணங்கள்',
                'category-official-desc': 'அரசியலமைப்பு, அறிக்கை மற்றும் அதிகாரப்பூர்வ கொள்கைகள் உள்ளிட்ட அத்யாவசிய கட்சி ஆவணங்கள்।',
                'resource-constitution': 'பிஎஸ்பி அரசியலமைப்பு (PDF)',
                'resource-manifesto': 'கட்சி அறிக்கை 2024',
                'resource-policies': 'கொள்கை கட்டமைப்பு',
                'resource-guidelines': 'உறுப்பினர் வழிகாட்டுதல்கள்',
                
                // Category 2: Educational Materials
                'category-education-title': 'கல்வி பொருட்கள்',
                'category-education-desc': 'டாக்டர் அம்பேத்கரின் தத்துவம், கட்சி வரலாறு மற்றும் சமூக நீதி கொள்கைகள் பற்றிய கற்றல் வளங்கள்।',
                'resource-ambedkar': 'டாக்டர் அம்பேத்கரின் போதனைகள்',
                'resource-history': 'பிஎஸ்பி வரலாறு மற்றும் மைல்கற்கள்',
                'resource-justice': 'சமூக நீதி கொள்கைகள்',
                'resource-youth': 'இளைஞர் தலைமைத்துவ வழிகாட்டி',
                
                // Category 3: Media & Outreach
                'category-media-title': 'ஊடகம் மற்றும் விரிவாக்கம்',
                'category-media-desc': 'கட்சி பிரதிநிதிகளுக்கான ஊடக கிட்கள், லோகோக்கள், விளம்பர பொருட்கள் மற்றும் தகவல் தொடர்பு வளங்கள்।',
                'resource-media-kit': 'அதிகாரப்பூர்வ ஊடக கிட்',
                'resource-logos': 'லோகோ மற்றும் பிராண்டிங் சொத்துக்கள்',
                'resource-templates': 'விளக்கக்காட்சி வார்ப்புருக்கள்',
                'resource-social': 'சமூக ஊடக சொத்துக்கள்',
                
                // Category 4: External Links
                'category-links-title': 'பயனுள்ள இணைப்புகள்',
                'category-links-desc': 'முக்கியமான வெளிப்புற வளங்கள், அரசாங்க வலைத்தளங்கள் மற்றும் கூட்டாளர் அமைப்புகள்.',
                'resource-india-gov': 'இந்திய அரசு',
                'resource-election': 'தேர்தல் ஆணையம்',
                'resource-ambedkar-foundation': 'அம்பேத்கர் அறக்கட்டளை',
                'resource-social-justice-ministry': 'சமூக நீதி அமைச்சகம்',
                
                // Contact
                'contact-resources-title': 'மேலும் தகவல் தேவையா?',
                'contact-resources-desc': 'கூடுதல் வளங்கள், ஆவண கோரிக்கைகள் அல்லது தொழில்நுட்ப ஆதரவிற்கு, எங்கள் ஆவண குழுவை தொடர்பு கொள்ள தயங்க வேண்டாம்.',
                'contact-email-text': 'resources@bspindia.org',
                
                // Status
                'status-available': 'கிடைக்கிறது',
                'status-coming-soon': 'விரைவில் வரும்'
            }
        };

        // ===== LANGUAGE FUNCTIONS =====
        
        /**
         * Switch language and update all content
         * @param {string} language - Target language ('english', 'hindi', 'tamil')
         */
        function switchLanguage(language) {
            console.log('Switching to language:', language);
            
            // Update current language
            currentLanguage = language;
            
            // Save language preference to sync with main site
            try {
                localStorage.setItem('bsp_preferred_language', language);
                console.log('Language preference saved:', language);
            } catch (error) {
                console.warn('Could not save language preference:', error);
            }
            
            // Update active language button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(`btn-${language}`).classList.add('active');
            
            // Update page content
            updatePageContent(language);
            
            console.log('Page content updated for language:', language);
        }
        
        /**
         * Update all page content with selected language
         * @param {string} language - Target language
         */
        function updatePageContent(language) {
            const translations = resourceTranslations[language];
            if (!translations) {
                console.error('Language translations not found:', language);
                return;
            }
            
            // Update all translatable elements
            Object.keys(translations).forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = translations[id];
                } else {
                    console.warn('Element not found for translation:', id);
                }
            });
            
            console.log('Page content updated for language:', language);
        }

        // ===== NAVIGATION FUNCTIONS =====
        
        /**
         * Navigate back to home page
         */
        function goToHome() {
            // Save current language state before navigating
            try {
                localStorage.setItem('bsp_preferred_language', currentLanguage);
            } catch (error) {
                console.warn('Could not save language preference:', error);
            }
            
            // Navigate to home page
            window.location.href = 'index.html';
        }
        
        /**
         * Toggle mobile hamburger menu
         */
        function toggleMenu() {
            const navMenu = document.querySelector('.nav-menu');
            const hamburger = document.querySelector('.hamburger');
            
            if (navMenu && hamburger) {
                navMenu.classList.toggle('active');
                hamburger.classList.toggle('active');
                
                // Add body scroll lock when menu is open
                if (navMenu.classList.contains('active')) {
                    document.body.classList.add('no-scroll');
                } else {
                    document.body.classList.remove('no-scroll');
                }
            }
        }

        // ===== RESOURCE INTERACTION FUNCTIONS =====
        
        /**
         * Handle resource download
         * @param {string} resourceType - Type of resource being downloaded
         */
        function downloadResource(resourceType) {
            console.log('Downloading resource:', resourceType);
            
            // Add loading state
            const linkElement = document.querySelector(`[data-resource="${resourceType}"]`);
            if (linkElement) {
                linkElement.classList.add('loading-resource');
            }
            
            // Simulate download process
            setTimeout(() => {
                // Remove loading state
                if (linkElement) {
                    linkElement.classList.remove('loading-resource');
                }
                
                // In a real implementation, this would trigger an actual download
                console.log(`${resourceType} download completed`);
                
                // Track download for analytics
                trackResourceDownload(resourceType);
                
            }, 1000);
            
            // Prevent default link behavior
            return false;
        }
        
        /**
         * Track resource downloads for analytics
         * @param {string} resourceType - Type of resource downloaded
         */
        function trackResourceDownload(resourceType) {
            // In a real implementation, this would send analytics data
            console.log('Analytics: Resource downloaded', {
                resource: resourceType,
                language: currentLanguage,
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent
            });
        }
        
        /**
         * Track external link clicks
         * @param {string} linkType - Type of external link clicked
         */
        function trackExternalLink(linkType) {
            console.log('Analytics: External link clicked', {
                link: linkType,
                language: currentLanguage,
                timestamp: new Date().toISOString()
            });
        }
        
        /**
         * Track email contact
         */
        function trackEmail() {
            console.log('Analytics: Email contact initiated', {
                language: currentLanguage,
                timestamp: new Date().toISOString()
            });
        }

        // ===== INITIALIZATION =====
        
        /**
         * Initialize the resources page
         */
        function initResourcesPage() {
            console.log('Initializing BSP Resources page...');
            
            try {
                // Load saved language preference from main site
                const savedLanguage = localStorage.getItem('bsp_preferred_language') || 'english';
                console.log('Loading saved language preference:', savedLanguage);
                
                // Set current language and update content
                currentLanguage = savedLanguage;
                switchLanguage(savedLanguage);
                
                // Add staggered animation to resource categories
                const categories = document.querySelectorAll('.resource-category');
                categories.forEach((category, index) => {
                    setTimeout(() => {
                        category.style.opacity = '1';
                        category.style.transform = 'translateY(0)';
                    }, index * 200);
                });
                
                console.log('Resources page initialized successfully');
                
            } catch (error) {
                console.error('Error initializing resources page:', error);
            }
        }
        
        // ===== EVENT LISTENERS =====
        
        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM Content Loaded - Resources Page');
            initResourcesPage();
        });
        
        // Handle page visibility changes to maintain language sync
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                // Check if language preference has changed in another tab
                const savedLanguage = localStorage.getItem('bsp_preferred_language') || 'english';
                if (savedLanguage !== currentLanguage) {
                    console.log('Language preference changed in another tab, updating...');
                    switchLanguage(savedLanguage);
                }
            }
        });
        
        // Handle browser back/forward navigation
        window.addEventListener('popstate', function(event) {
            // Maintain language state during navigation
            const savedLanguage = localStorage.getItem('bsp_preferred_language') || 'english';
            if (savedLanguage !== currentLanguage) {
                switchLanguage(savedLanguage);
            }
        });
        
        // Make functions available globally for onclick handlers
        window.switchLanguage = switchLanguage;
        window.goToHome = goToHome;
        window.toggleMenu = toggleMenu;
        window.downloadResource = downloadResource;
        window.trackExternalLink = trackExternalLink;
        window.trackEmail = trackEmail;
        
        console.log('BSP Resources Page JavaScript Loaded Successfully');
    </script>
</body>
</html>